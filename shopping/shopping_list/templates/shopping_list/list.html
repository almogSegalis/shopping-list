

{% extends 'shopping_list/base.html' %}

{% block content %}

	<center>
		<ul>
			  {% for tag in tags %}
			    	<a 
			    	{% if active_tag == tag %}
			    		class="btn btn-{{ tag.color }}"
			    	{% else %}
			    		class="btn btn-outline-{{ tag.color }}"
			    	{% endif %}
			    	href="{% url 'shopping_list:item_list_by_tag' tag.name %}">
			    		{{ tag.name }}
			    	</a>
			  {% endfor %}
			 <a href="{% url 'shopping_list:list' %}"
			 	{% if active_tag is None %}
			    		class="btn btn-primary"
			    {% else %}
			    		class="btn btn-outline-primary"
			    {% endif %}
			  class ="btn btn-primary"
			  >הצג הכל</a>
		</ul>
	</center>
	<br>
	<div class="d-flex flex-row-reverse">
		<table class="table" style="height: 80px;">
			<thead>
				<tr>
			      <th class="text-end" scope="col">פעולות</th>
			      <th class="text-end" scope="col">תגים רלוונטים</th>
			      <th class="text-end" scope="col">שם הפריט אותו תרצי להוסיף</th>
			      <th class="text-end" scope="col">מספר</th>
	    		</tr>
	  		</thead>
	  		<tbody>
	  			{% for item in items %}
	  				{% if item.is_active == True %}
				    <tr>
				      	<td class="text-end align-baseline">
				      		<a href="{% url 'shopping_list:delete_item' item.id %}">
							  <button type="button" class="btn btn-outline-danger btn-sm">
							    <svg id="i-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="15" height="25" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4">
							      <path d="M2 30 L30 2 M30 30 L2 2" />
							    </svg>
							  </button>
							</a>
				      	</td>
			      	<td class="text-end align-baseline">
				      		{%for tag in item.tags.all %}
					      		<span class= "badge bg-{{ tag.color }}" >
					      			{{ tag }}
					      		</span>
				      		{% endfor %}
				      	</td>
				      <td class="text-end align-baseline">{{ item.name }}</td>
				      <th scope="row" class="text-end align-baseline">1</th>
				    </tr>
					{% endif %}
			    {% endfor %}
			</tbody>
		</table>
	</div>
	<div class="d-flex flex-row-reverse">
		<ul>
			<form class="d-inline-flex" action="{% url 'shopping_list:add_item' %}" method="post" >
				<div class="d-inline-flex justify-content-between">
					<button class="btn btn-outline-primary" type="submit">הוספה</button>
				      {{ add }}
				      {% csrf_token %}
			    </div>
			</form>
			<br>
		</ul>
	</div>
{% endblock %}
